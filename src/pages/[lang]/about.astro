---
export const prerender = true;

import Base from '../../layouts/Base.astro';
import Header from '../../components/Header.astro';
import Footer from '../../components/Footer.astro';
import FadeIn from '../../components/FadeIn.astro';
import { useTranslations, useTranslatedPath } from '../../i18n/utils';

export function getStaticPaths() {
  return [
    { params: { lang: 'en' } },
    { params: { lang: 'es' } },
    { params: { lang: 'fr' } },
  ];
}

const { lang } = Astro.params;
const t = useTranslations(lang as any);
const translatePath = useTranslatedPath(lang as any);
---

<Base 
  title={t('about.page.title')} 
  description={t('about.page.description')}
>
  <Header />
  
  <main class="pt-24">
    <!-- Hero -->
    <section class="py-20 px-6 lg:px-8">
      <div class="max-w-7xl mx-auto">
        <FadeIn>
          <h1 class="max-w-3xl">
            {t('about.hero')}
          </h1>
        </FadeIn>
      </div>
    </section>
    
    <!-- About Content -->
    <section class="py-16 px-6 lg:px-8 bg-white">
      <div class="max-w-7xl mx-auto">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 lg:gap-24">
          <!-- Image -->
          <FadeIn>
            <div class="aspect-[3/4] overflow-hidden">
              <img
                src="/Alex_tarta.jpeg"
                alt="Claire Thomas - L'Atelier Founder"
                class="w-full h-full object-cover"
                loading="eager"
              />
            </div>
          </FadeIn>
          
          <!-- Content -->
          <div class="lg:py-12">
            <FadeIn delay={100}>
              <div class="space-y-8">
                <div class="space-y-4">
                  <h2 class="text-2xl font-display">{t('about.philosophy.title')}</h2>
                  <p class="text-muted leading-relaxed">
                    {t('about.philosophy.p1')}
                  </p>
                  <p class="text-muted leading-relaxed">
                    {t('about.philosophy.p2')}
                  </p>
                </div>
                
                <div class="space-y-4">
                  <h2 class="text-2xl font-display">{t('about.approach.title')}</h2>
                  <p class="text-muted leading-relaxed">
                    {t('about.approach.p1')}
                  </p>
                  <p class="text-muted leading-relaxed">
                    {t('about.approach.p2')}
                  </p>
                </div>
              </div>
            </FadeIn>
          </div>
        </div>
      </div>
    </section>
    
    <!-- Values -->
    <section class="py-32 px-6 lg:px-8 bg-secondary">
      <div class="max-w-7xl mx-auto">
        <FadeIn>
          <h2 class="text-center mb-16 font-display">{t('about.values.title')}</h2>
        </FadeIn>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-12">
          <FadeIn delay={0}>
            <div class="text-center space-y-4">
              <h3 class="font-serif text-xl text-accent">{t('about.values.passion.title')}</h3>
              <p class="text-sm text-muted leading-relaxed">
                {t('about.values.passion.p')}
              </p>
            </div>
          </FadeIn>
          
          <FadeIn delay={100}>
            <div class="text-center space-y-4">
              <h3 class="font-serif text-xl text-accent">{t('about.values.tradition.title')}</h3>
              <p class="text-sm text-muted leading-relaxed">
                {t('about.values.tradition.p')}
              </p>
            </div>
          </FadeIn>
          
          <FadeIn delay={200}>
            <div class="text-center space-y-4">
              <h3 class="font-serif text-xl text-accent">{t('about.values.ingredients.title')}</h3>
              <p class="text-sm text-muted leading-relaxed">
                {t('about.values.ingredients.p')}
              </p>
            </div>
          </FadeIn>
        </div>
      </div>
    </section>
    
    <!-- CTA -->
    <section class="py-32 px-6 lg:px-8 bg-white">
      <div class="max-w-3xl mx-auto text-center">
        <FadeIn>
          <h2 class="mb-6 font-display">{t('about.cta.title')}</h2>
          <p class="text-muted mb-10 leading-relaxed">
            {t('about.cta.p')}
          </p>
          <a 
            href={translatePath('/contact')} 
            class="inline-block px-10 py-4 bg-accent text-white text-sm uppercase tracking-widest hover:bg-accent/90 transition-colors"
          >
            {t('cta.button')}
          </a>
        </FadeIn>
      </div>
    </section>
  </main>
  
  <Footer />
</Base>
